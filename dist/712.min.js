"use strict";(self.webpackChunkmaterial_you_utilities=self.webpackChunkmaterial_you_utilities||[]).push([["712"],{723(t,e,i){function s(t){let e=-1;return self.Touch&&t instanceof Touch?e=t.identifier:n(t)&&(e=t.pointerId),{id:e,nativeEvent:t,clientX:t.clientX,clientY:t.clientY}}i.r(e),i.d(e,{DiskColorPicker:()=>w});let n=t=>self.PointerEvent&&t instanceof PointerEvent;class h{constructor(t,e){this.startPointers=[],this.currentPointers=[],this.pointerStart=t=>{0===t.button&&this.triggerPointerStart(s(t),t)&&(n(t)?((t.target&&"setPointerCapture"in t.target?t.target:this._e).setPointerCapture(t.pointerId),this.ael("pointermove",this.move),this.ael("pointerup",this.pointerEnd),this.ael("pointercancel",this.pointerEnd)):(window.addEventListener("mousemove",this.move),window.addEventListener("mouseup",this.pointerEnd)))},this.touchStart=t=>{for(let e of Array.from(t.changedTouches))this.triggerPointerStart(s(e),t)},this.move=t=>{let e="changedTouches"in t?Array.from(t.changedTouches).map(t=>s(t)):[s(t)],i=[];for(let t of e){let e=this.currentPointers.findIndex(e=>e.id===t.id);-1!==e&&(i.push(t),this.currentPointers[e]=t)}0!==i.length&&this._h.onMove(i,t)},this._end=(t,e)=>{let i=this.currentPointers.findIndex(e=>e.id===t.id);return -1!==i&&(this.currentPointers.splice(i,1),this.startPointers.splice(i,1),this._h.onEnd&&this._h.onEnd(t,e,"touchcancel"===e.type||"pointercancel"===e.type),!0)},this.pointerEnd=t=>{if(this._end(s(t),t))if(n(t)){if(this.currentPointers.length)return;this.rel("pointermove",this.move),this.rel("pointerup",this.pointerEnd),this.rel("pointercancel",this.pointerEnd)}else window.removeEventListener("mousemove",this.move),window.removeEventListener("mouseup",this.pointerEnd)},this.touchEnd=t=>{for(let e of Array.from(t.changedTouches))this._end(s(e),t)},this._e=t,this._h=e,self.PointerEvent?this.ael("pointerdown",this.pointerStart):(this.ael("mousedown",this.pointerStart),this.ael("touchstart",this.touchStart),this.ael("touchmove",this.move),this.ael("touchend",this.touchEnd),this.ael("touchcancel",this.touchEnd))}ael(t,e){this._e.addEventListener(t,e)}rel(t,e){this._e.removeEventListener(t,e)}stop(){this.rel("pointerdown",this.pointerStart),this.rel("mousedown",this.pointerStart),this.rel("touchstart",this.touchStart),this.rel("touchmove",this.move),this.rel("touchend",this.touchEnd),this.rel("touchcancel",this.touchEnd),this.rel("pointermove",this.move),this.rel("pointerup",this.pointerEnd),this.rel("pointercancel",this.pointerEnd),window.removeEventListener("mousemove",this.move),window.removeEventListener("mouseup",this.pointerEnd)}triggerPointerStart(t,e){return!!this._h.onStart(t,e)&&(this.currentPointers.push(t),this.startPointers.push(t),!0)}}function r(t){return 180/Math.PI*t}function a(t){return Math.PI/180*t}class o{constructor(t,e,i,s=0,n=360){this.anchor=[0,0,0,0],this.degrees=0,this.e=t,this.ri=e,this.ro=i,this.a1=s,this.a2=n,this.tracker=new h(this.e,this)}clamp(t){for(;t<0;)t+=360;return Math.abs(t%360)}isAngleInRange(t){if(this.a1<0){if(t>=0&&t<=this.a2)return!0;let e=t-360;return e>=this.a1&&e<=0}return t>=this.a1&&t<=this.a2}isOnDial(t,e){let i=t-.5,s=e-.5,n=Math.sqrt(i*i+s*s);if(n>=this.ri&&n<=this.ro){let t=this.clamp(Math.round(r(Math.atan2(s,i))));return this.isAngleInRange(t)}return!1}onStart(t,e){e.preventDefault();let i=this.e.getBoundingClientRect();this.anchor=[i.left||i.x,i.top||i.y,i.width,i.height];let s=this.anchor[2],n=this.anchor[3],h=s?(t.clientX-this.anchor[0])/s:0,r=n?(t.clientY-this.anchor[1])/n:0;return!!this.isOnDial(h,r)&&(this.setPosition(h,r),this.e.style.cursor="pointer",!0)}onMove(t){let e=t[0];if(e){let t=this.anchor[2],i=this.anchor[3],s=t?(e.clientX-this.anchor[0])/t:0,n=i?(e.clientY-this.anchor[1])/i:0;this.setPosition(s,n)}}onEnd(){this.e.style.cursor=""}setPosition(t,e){let i=this.clamp(Math.round(r(Math.atan2(e-.5,t-.5))));return!(!this.isAngleInRange(i)||i===this.degrees)&&(this.degrees=i,this.fire(),!0)}fire(){this.e.dispatchEvent(new CustomEvent("p-input",{bubbles:!0,composed:!0,detail:{angle:this.degrees}}))}detach(){this.tracker.stop()}get angle(){return this.degrees}set angle(t){this.degrees=Math.max(this.a1,Math.min(this.a2,this.clamp(t)))}}class l extends HTMLElement{constructor(){super(),this.__n=new Map,this.root=this.attachShadow({mode:"open"})}static get observedAttributes(){return["value"]}attributeChangedCallback(t,e,i){"value"===t&&(this.value=i)}$(t){if(this.__n.has(t))return this.__n.get(t);let e=this.root.querySelector("#"+t);return this.__n.set(t,e),e}$add(t,e,i){"string"==typeof t&&(t=this.$(t)),t&&t.addEventListener(e,i)}$remove(t,e,i){"string"==typeof t&&(t=this.$(t)),t&&t.removeEventListener(e,i)}fire(t,e){this.dispatchEvent(new CustomEvent(t,{bubbles:!0,composed:!0,detail:e}))}disconnectedCallback(){this.__n.clear()}}let d=/^hsla\s*\(\s*(\d+.?\d*)\s*,\s*(\d+.?\d*)%\s*,\s*(\d+.?\d*)%\s*,\s*(\d+.?\d*)\s*\)$/i,u=/^hsl\s*\(\s*(\d+.?\d*)\s*,\s*(\d+.?\d*)%\s*,\s*(\d+.?\d*)%\s*\)$/i,c=/^rgba\s*\(\s*(\d+.?\d*)\s*,\s*(\d+.?\d*)\s*,\s*(\d+.?\d*)\s*,\s*(\d+.?\d*)\s*\)$/i,p=/^rgb\s*\(\s*(\d+.?\d*)\s*,\s*(\d+.?\d*)\s*,\s*(\d+.?\d*)\s*\)$/i,m=t=>`hsl(${t[0]%360}, ${t[1]}%, ${t[2]}%)`;function b(t,e,i){t%=360;let s=(1-Math.abs(2*(i/=100)-1))*(e/=100),n=s*(1-Math.abs(t/60%2-1)),h=i-s/2,r=0,a=0,o=0;return[r,a,o]=t<60?[s,n,0]:t<120?[n,s,0]:t<180?[0,s,n]:t<240?[0,n,s]:t<300?[n,0,s]:[s,0,n],[Math.round(255*(r+h)),Math.round(255*(a+h)),Math.round(255*(o+h))]}function g(t,e,i){t/=255;let s=Math.max(t,e/=255,i/=255),n=Math.min(t,e,i),h=s-n,r=0;0===h?r=0:s===t?r=(e-i)/h%6*60:s===e?r=60*((i-t)/h+2):s===i&&(r=60*((t-e)/h+4));let a=(s+n)/2;return[Math.round((360+r)%360),Math.round(100*(0===h?0:h/(1-Math.abs(2*a-1)))),Math.round(100*a)]}function f(t,e,i,s){s=Math.round(255*s);let n=Math.round(t).toString(16),h=Math.round(e).toString(16),r=Math.round(i).toString(16),a=s.toString(16);return 1===n.length&&(n="0"+n),1===h.length&&(h="0"+h),1===r.length&&(r="0"+r),1===a.length&&(a="0"+a),(255===s?`#${n}${h}${r}`:`#${n}${h}${r}${a}`).toUpperCase()}class v{constructor(t,e,i){this.anchor=[0,0,0,0],this._a=0,this._d=0,this.e=t,e&&(this._a=this.clampAngle(e)),i&&(this._d=this.clampDist(i)),this.tracker=new h(this.e,this)}clampAngle(t){for(;t<0;)t+=360;return Math.abs(t%360)}clampDist(t){return Math.max(0,Math.min(1,t))}onMove(t){let e=t[0];if(e){let t=this.anchor[2],i=this.anchor[3],s=t?(e.clientX-this.anchor[0])/t:0,n=i?(e.clientY-this.anchor[1])/i:0;this.setPosition(s,n)}}onEnd(){this.e.style.cursor=""}onStart(t,e){e.preventDefault();let i=this.e.getBoundingClientRect();this.anchor=[i.left||i.x,i.top||i.y,i.width,i.height];let s=this.anchor[2],n=this.anchor[3],h=s?(t.clientX-this.anchor[0])/s:0,r=n?(t.clientY-this.anchor[1])/n:0;return this.setPosition(h,r),this.e.style.cursor="pointer",!0}setPosition(t,e){let i=!1,s=this.clampAngle(Math.round(r(Math.atan2(e-.5,t-.5))));s!==this._a&&(this._a=s,i=!0);let n=t-.5,h=e-.5,a=this.clampDist(2*Math.sqrt(n*n+h*h));return a!==this._d&&(this._d=a,i=!0),i&&this.fire(),i}fire(){this.e.dispatchEvent(new CustomEvent("p-input",{bubbles:!0,composed:!0,detail:{angle:this._a,distance:this._d}}))}detach(){this.tracker.stop()}get angle(){return this._a}set angle(t){this._a=this.clampAngle(t)}get distance(){return this._d}set distance(t){this._d=this.clampDist(t)}}class w extends l{constructor(){super(),this._hsla=[0,100,50,1],this.prevWheelParams=[-1,1],this.onWheelFocus=()=>this.$("wheelThumb").classList.add("focused"),this.onWheelBlur=()=>this.$("wheelThumb").classList.remove("focused"),this.onDiskFocus=()=>this.$("diskThumb").classList.add("focused"),this.onDiskBlur=()=>this.$("diskThumb").classList.remove("focused"),this.onWheelKeyDown=t=>{let e=!0,i=t.code,s=this._hsla[2];switch(i){case"ArrowUp":case"ArrowRight":s>0&&(this._hsla[2]=Math.ceil(s)-1,this.updateColor());break;case"ArrowLeft":case"ArrowDown":s<100&&(this._hsla[2]=Math.floor(s)+1,this.updateColor());break;case"End":0!==s&&(this._hsla[2]=0,this.updateColor());break;case"Home":100!==s&&(this._hsla[2]=100,this.updateColor());break;case"Escape":this.$("wheelThumbInput").blur();break;default:e=!1}e&&(t.preventDefault(),t.stopPropagation())},this.onDiskKeyDown=t=>{let e=!0;switch(t.code){case"ArrowRight":this._hsla[0]=(this._hsla[0]+2)%360,this.updateColor();break;case"ArrowLeft":this._hsla[0]=((this._hsla[0]||360)-2)%360,this.updateColor();break;case"ArrowUp":this._hsla[1]<100&&(this._hsla[1]++,this.updateColor());break;case"ArrowDown":this._hsla[1]>0&&(this._hsla[1]--,this.updateColor());break;case"Escape":this.$("diskThumbInput").blur();break;default:e=!1}e&&(t.preventDefault(),t.stopPropagation())},this._renderPending=!1,this.handleDialInput=t=>{this.$("wheelThumbInput").focus();let e=t.detail.angle;this._hsla[2]=100/180*e,this.updateColor(),this._fire()},this.handleDiskInput=t=>{this.$("diskThumbInput").focus();let{angle:e,distance:i}=t.detail;this._hsla[0]=e,this._hsla[1]=Math.round(100*i),this.updateColor(),this._fire()},this.root.innerHTML='\n    <style>\n      \n* {box-sizing: border-box;}\n.horizontal {display: flex; flex-direction: row;}\n.vertical {display: flex; flex-direction: column;}\n.center {align-items: center;}\n.flex {flex: 1;}\n\n      :host {\n        display: inline-block;\n        touch-action: none;\n      }\n      canvas {\n        display: block;\n        margin: 0 auto;\n      }\n      #base {\n        position: relative;\n      }\n      #diskPanel {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        display: grid;\n        place-items: center;\n        place-content: center;\n        pointer-events: none;\n        padding: 0 0 6px;\n      }\n      .knob {\n        position: relative;\n        width: 20px;\n        height: 20px;\n        border: 2px solid #fff;\n        box-shadow: 0 2px 1px -1px rgba(0,0,0,.2), 0 1px 1px 0 rgba(0,0,0,.14), 0 1px 3px 0 rgba(0,0,0,.12);\n        border-radius: 50%;\n        background: var(--ecp-i-thumb-color);\n      }\n      .thumb {\n        position: absolute;\n        width: 40px;\n        height: 40px;\n        padding: 10px;\n        border-radius: 50%;\n        overflow: hidden;\n        background: transparent;\n        top: -20px;\n        left: -20px;\n      }\n      .thumb::before {\n        content: \'\';\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        border-radius: 50%;\n        opacity: 0.2;\n        background: var(--ecp-i-thumb-shadow-color);\n        pointer-events: none;\n        transform: scale(0);\n        transition: transform 0.18s ease;\n      }\n      .thumb.focused::before {\n        transform: scale(1);\n      }\n      #wheelThumb {\n        pointer-events: none;\n      }\n      #diskThumb {\n        pointer-events: auto;\n        cursor: pointer;\n      }\n      #disk {\n        border-radius: 50%;\n      }\n      #diskTarget {\n        position: relative;\n        border-radius: 50%;\n        pointer-events: auto;\n      }\n      input {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        border: none;\n        cursor: pointer;\n        opacity: 0;\n        font-size: 16px;\n      }\n    </style>\n    <div id="base">\n      <canvas id="wheel" width="280" height="280"></canvas>\n      <div id="wheelThumb" class="thumb">\n        <div class="knob"></div>\n        <input readonly id="wheelThumbInput" tabindex="2">\n      </div>\n      <div id="diskPanel">\n        <div id="diskTarget">\n          <canvas id="disk" width="180" height="180"></canvas>\n          <div id="diskThumb" class="thumb">\n            <div class="knob"></div>\n            <input readonly id="diskThumbInput" tabindex="1">\n          </div>\n        </div>\n      </div>\n    </div>\n    '}connectedCallback(){let t=this.$("wheel"),{width:e,height:i}=t,s=Math.min(e,i),n=s/2-2+10;this.dialC=new o(t,(n-50)/s,n/s,0,180),this.$add(t,"p-input",this.handleDialInput);let h=this.$("diskTarget");this.diskC=new v(h,0,0),this.$add(h,"p-input",this.handleDiskInput),this.$add("wheelThumbInput","focus",this.onWheelFocus),this.$add("wheelThumbInput","blur",this.onWheelBlur),this.$add("wheelThumbInput","keydown",this.onWheelKeyDown),this.$add("diskThumbInput","focus",this.onDiskFocus),this.$add("diskThumbInput","blur",this.onDiskBlur),this.$add("diskThumbInput","keydown",this.onDiskKeyDown),this.renderDisk(),this.updateColor()}disconnectedCallback(){this.dialC&&(this.dialC.detach(),this.dialC=void 0),this.diskC&&(this.diskC.detach(),this.diskC=void 0),this.$remove("wheelThumbInput","focus",this.onWheelFocus),this.$remove("wheelThumbInput","blur",this.onWheelBlur),this.$remove("wheelThumbInput","keydown",this.onWheelKeyDown),this.$remove("diskThumbInput","focus",this.onDiskFocus),this.$remove("diskThumbInput","blur",this.onDiskBlur),this.$remove("diskThumbInput","keydown",this.onDiskKeyDown),this.$remove("diskTarget","p-input",this.handleDiskInput),this.$remove("wheel","p-input",this.handleDialInput),super.disconnectedCallback()}updateColor(){let[t,e,i]=this._hsla;this.diskC&&(this.diskC.angle=t,this.diskC.distance=e/100),this.dialC&&(this.dialC.angle=1.8*i),this.deferredRender()}deferredRender(){this._renderPending||(this._renderPending=!0,requestAnimationFrame(()=>{this._renderPending=!1,this.updateDiskThumb(),this.updateWheelThumb(),this.renderWheel()}))}updateDiskThumb(){let t=this.$("diskThumb");if(t&&this.diskC){let e=this.diskC.angle,i=90*this.diskC.distance,s=i*Math.cos(a(e))+90,n=i*Math.sin(a(e))+90;t.style.transform=`translate3d(${s}px, ${n}px, 0)`,t.style.setProperty("--ecp-i-thumb-color",m(this._hsla));let[h,r]=this._hsla;t.style.setProperty("--ecp-i-thumb-shadow-color",m([h,r,40,1]))}}updateWheelThumb(){let t=this.$("wheelThumb");if(t){let[e,i,s]=this._hsla,n=1.8*s,{width:h,height:r}=this.$("wheel"),o=Math.min(h,r)/2-10-2.5,l=h/2+o*Math.cos(a(n)),d=r/2+o*Math.sin(a(n));t.style.transform=`translate3d(${l}px, ${d}px, 0)`,t.style.setProperty("--ecp-i-thumb-color",m(this._hsla)),t.style.setProperty("--ecp-i-thumb-shadow-color",m([e,i,50,1]))}}renderWheel(){let[t,e]=this._hsla,[i,s]=this.prevWheelParams;if(t===i&&e===s)return;let n=this.$("wheel"),h=n.getContext("2d"),{width:r,height:a}=n;h.clearRect(0,0,r,a);let o=Math.PI/40,l=Math.min(r,a)/2-2,d=l-20,u=r/2,c=a/2;for(let i=1;i<=40;i++){let s=i*o,n=(i-1)*o,r=d+(l-d)/2,a=Math.cos(s)*r+u,p=Math.sin(s)*r+c,b=Math.cos(n)*r+u,g=Math.sin(n)*r+c,f=[t,e,2.5*i,1],v=[t,e,2.5*(i-1),1],w=h.createLinearGradient(a,p,b,g);w.addColorStop(0,m(f)),w.addColorStop(1,m(v)),h.beginPath(),h.arc(u,c,l,n-.002,s+.002,!1),h.arc(u,c,d,s+.002,n-.002,!0),h.fillStyle=w,h.fill()}this.prevWheelParams=[t,e]}renderDisk(){let t=this.$("disk").getContext("2d");t.clearRect(0,0,180,180);let e=document.createElement("canvas");e.width=e.height=180;let i=e.getContext("2d"),s=0,n=[255,0,0],h=0;for(;s++<360;){let r=(h+3-1)%3;n[h]<255?n[h]=n[h]+4.322>255?255:n[h]+4.322:n[r]>0?n[r]=n[r]>4.322?n[r]-4.322:0:n[h]>=255&&(n[h]=255,h=(h+1)%3),i.clearRect(0,0,180,180);let o=i.createRadialGradient(90,90,0,90,90,90);o.addColorStop(0,"white"),o.addColorStop(1,"rgb("+n.map(function(t){return Math.floor(t)}).join(",")+")"),i.fillStyle=o,i.globalCompositeOperation="source-over",i.beginPath(),i.arc(90,90,90,0,2*Math.PI),i.closePath(),i.fill(),i.globalCompositeOperation="destination-out",i.beginPath(),i.arc(90,90,0,a(s+1),a(s+1)),i.arc(90,90,91,a(s+1),a(s+1)),i.arc(90,90,91,a(s+1),a(s-1)),i.arc(90,90,0,a(s+1),a(s-1)),i.closePath(),i.fill(),t.drawImage(e,0,0)}}_fire(){this.fire("change")}get hsl(){return[...this._hsla]}get rgb(){let[t,e,i]=b(this._hsla[0],this._hsla[1],this._hsla[2]);return[t,e,i,this._hsla[3]]}get value(){return f(...this.rgb)}set value(t){let e=function(t){let e=(t=t.trim()).match(d);if(e){let t=+e[1],i=+e[2],s=+e[3],n=+e[4],[h,r,a]=b(t,i,s);return{hex:f(h,r,a,n),hsla:[t,i,s,n],rgba:[h,r,a,n]}}if(e=t.match(u)){let t=+e[1],i=+e[2],s=+e[3],[n,h,r]=b(t,i,s);return{hex:f(n,h,r,1),hsla:[t,i,s,1],rgba:[n,h,r,1]}}if(e=t.match(c)){let t=+e[1],i=+e[2],s=+e[3],n=+e[4],[h,r,a]=g(t,i,s);return{hex:f(t,i,s,n),hsla:[h,r,a,n],rgba:[t,i,s,n]}}if(e=t.match(p)){let t=+e[1],i=+e[2],s=+e[3],[n,h,r]=g(t,i,s);return{hex:f(t,i,s,1),hsla:[n,h,r,1],rgba:[t,i,s,1]}}let i=t,s=i.lastIndexOf("#");s>=0&&(i=i.substring(s+1));let n=function(t){switch(t.length){case 3:return[+`0x${t[0]}${t[0]}`,+`0x${t[1]}${t[1]}`,+`0x${t[2]}${t[2]}`,1];case 4:return[+`0x${t[0]}${t[0]}`,+`0x${t[1]}${t[1]}`,+`0x${t[2]}${t[2]}`,`0x${t[3]}${t[3]}`/255];case 6:return[+`0x${t[0]}${t[1]}`,+`0x${t[2]}${t[3]}`,+`0x${t[4]}${t[5]}`,1];case 8:return[+`0x${t[0]}${t[1]}`,+`0x${t[2]}${t[3]}`,+`0x${t[4]}${t[5]}`,`0x${t[6]}${t[7]}`/255]}return null}(i);if(n){let[t,e,i,s]=n;if(isNaN(t)||isNaN(e)||isNaN(i)||isNaN(s))return null;let[h,r,a]=g(t,e,i);return{hex:f(t,e,i,s),hsla:[h,r,a,s],rgba:[t,e,i,s]}}return null}(t);e&&(this._hsla=[...e.hsla],this.updateColor())}}customElements.define("disk-color-picker",w)}}]);